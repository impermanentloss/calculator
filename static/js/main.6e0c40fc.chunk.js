(this.webpackJsonpcalculator=this.webpackJsonpcalculator||[]).push([[0],{79:function(e,t,n){},80:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(61),r=n.n(c),s=(n(79),n(62)),l=n(63),o=n(33),u=n(70),d=n(69),b=(n(80),n(64)),h=n(17),j=n(27),m=n(8),g=n(110),p=n(88),f=n(95),x=n(112),O=n(97),A=n(111),v=n(98),y=n(100),w=n(101),C=n(102),B=n(113),S=n(28),V=n(105),k=n(114),I=n(106),L=n(107),P=n(21),N=n.n(P),z=n(109),F=n(65),W=n.n(F),E=n(99),T=n(103),R=n(104),M=n(108),H=n(53),D=n(3),J=function(){var e=Object(g.a)(),t=e.isOpen,n=e.onToggle,i=Object(p.a)().colorMode,c=Object(a.useState)([{uuid:"c2037d93-1f28-4bfc-8495-0afb54e7b962",name:"AVAX",priceChange:400,weight:50},{uuid:"9e4b081f-75ff-4ac5-9bf3-bc67e7ffeb0f",name:"WBTC",priceChange:150,weight:50}]),r=Object(m.a)(c,2),s=r[0],l=r[1],o=function(e){return Math.abs(e/100+1)},u=s.map((function(e){return o(e.priceChange)*e.weight/100})).reduce((function(e,t){return e+t}),0),d=s.map((function(e){return Math.pow(o(e.priceChange),e.weight/100)})).reduce((function(e,t){return e*t}),1),b=function(e,t){var n=new H.BigNumber(e),a=new H.BigNumber(t);return n.dividedBy(a).minus(1).dp(4)}(d,u),P=(s.map((function(e){return e.priceChange/100*(e.weight/100)})).reduce((function(e,t){return e+t}),0),Math.abs(b),s.map((function(e){return e.weight})).reduce((function(e,t){return Number(e)+Number(t)}),0)),F=function(){l([].concat(Object(h.a)(s),[{uuid:Object(z.a)(),priceChange:0,weight:100-P>=2?100-P:2}]))},J=function(){return l([{uuid:Object(z.a)(),name:"",priceChange:0,weight:50},{uuid:Object(z.a)(),name:"",priceChange:0,weight:50}])};return Object(D.jsxs)(f.a,{w:{md:"800px"},p:{base:0,md:5},m:6,mt:0,borderWidth:{base:0,md:1},rounded:"lg",borderColor:"linear(to-r, brand.300 ,brand.600)",children:[Object(D.jsxs)(f.a,{children:[Object(D.jsxs)(x.a,{columns:3,minChildWidth:"250px",children:[Object(D.jsxs)(O.a,{children:[Object(D.jsx)(O.c,{fontSize:"xl",children:"Impermanent Loss"}),s.length>1?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(O.d,{fontSize:"5xl",children:Object(D.jsx)(W.a,{value:b,formatValue:function(e){return N()(Math.abs(e)).format("0.00%")},duration:500})}),Object(D.jsx)(O.b,{children:Object(D.jsxs)(A.a,{color:"dark"===i?"gray.100":"gray.700",size:"xs",variant:"link",textDecoration:"underline",onClick:function(){return n()},my:1,children:[t?"Hide":"Show"," calculation"]})})]}):Object(D.jsxs)(v.a,{alignItems:"center",color:"blue.500",children:[Object(D.jsx)(E.a,{mr:"2"})," Add at least 2 assets m8"]})]}),100!==P&&Object(D.jsxs)(O.a,{color:100!==P?"brand.400":"green.500",children:[Object(D.jsx)(O.c,{fontSize:"xl",children:"Total Pool Weight"}),Object(D.jsx)(O.d,{fontSize:"5xl",children:N()(P/100).format("0%")}),Object(D.jsx)(O.b,{children:"Must equal 100!"})]})]}),t&&Object(D.jsxs)(f.a,{my:3,p:3,borderRadius:6,borderWidth:1,children:[Object(D.jsxs)(f.a,{mb:3,children:[Object(D.jsx)(y.a,{size:"sm",children:"Calculating Impermanent Loss"}),Object(D.jsx)(w.a,{fontStyle:"italic",children:"Impermanent Loss = Value of Pool / Asset Value if Held - 1"}),Object(D.jsxs)(w.a,{children:[N()(b).format("0.00")," ="," ",N()(d).format("0.00")," /"," ",N()(u).format("0.00")," - 1"]}),Object(D.jsxs)(w.a,{children:["(Impermanent Loss is formatted from"," ",N()(b).format("0.00")," to a % and made positive (losses cannot be negative) \u2192"," ",N()(Math.abs(b)).format("0.00%"),")"]})]}),Object(D.jsxs)(f.a,{mb:3,children:[Object(D.jsx)(y.a,{size:"sm",children:"Calculating 'Value of Pool'"}),Object(D.jsx)(w.a,{fontStyle:"italic",children:"To get the Pool Value, take each asset, put its weight divided by hundred to the power of the price change. Then multiply all these."}),Object(D.jsxs)(w.a,{children:[N()(d).format("0.00")," ="," ",s.map((function(e,t){return"".concat(o(e.priceChange),"^").concat(e.weight," / 100").concat(s.length!==t+1?" * ":"")}))]})]}),Object(D.jsxs)(f.a,{mb:3,children:[Object(D.jsx)(y.a,{size:"sm",children:"Calculating 'Asset Value if Held'"}),Object(D.jsx)(w.a,{fontStyle:"italic",children:"To get the Hold Value, take each asset, and multiply its price change by its weight, then divide by 100. Then add all these up."}),Object(D.jsxs)(w.a,{children:[N()(u).format("0.00")," ="," ",s.map((function(e,t){return"".concat(o(e.priceChange)," x ").concat(e.weight," / 100").concat(s.length!==t+1?" + ":"")}))]})]})]})]}),Object(D.jsx)(C.a,{my:6,display:{base:"none",md:"block"}}),Object(D.jsxs)(f.a,{display:{base:"block",md:"none"},mb:3,children:[Object(D.jsx)(A.a,{size:"sm",onClick:F,leftIcon:Object(D.jsx)(T.a,{}),variant:"solid",mr:3,colorScheme:s.length<=1?"blue":"gray",children:"Add Asset"}),Object(D.jsx)(A.a,{size:"sm",onClick:J,variant:"outline",leftIcon:Object(D.jsx)(R.a,{}),children:"Clear Assets"})]}),Object(D.jsx)(f.a,{mb:3,display:{base:"none",md:"block"},children:Object(D.jsxs)(B.a,{isInline:!0,spacing:4,children:[Object(D.jsx)(w.a,{w:175,fontWeight:"bold",children:"Asset"}),Object(D.jsx)(w.a,{w:175,fontWeight:"bold",children:"Price Changes by..."}),Object(D.jsx)(v.a,{alignItems:"center",w:175,fontWeight:"bold",color:100!==P?"brand.400":"inherit",children:Object(D.jsx)(w.a,{children:"Pool Weight"})})]})}),Object(D.jsx)(x.a,{columns:{base:1,sm:2,md:1},spacingX:3,children:s.map((function(e,t){return Object(D.jsxs)(f.a,{borderWidth:{base:1,md:0},p:{base:3,md:0},mb:{base:3,md:0},borderRadius:6,children:[Object(D.jsxs)(B.a,{align:{base:"start",md:"center"},direction:{base:"column",md:"row"},spacing:4,children:[Object(D.jsxs)(S.a,{w:175,children:[Object(D.jsxs)(V.a,{mb:2,display:{base:"block",md:"none"},children:["Asset ",t+1]}),Object(D.jsx)(k.a,{w:125,placeholder:"eg AVAX",value:e.name,onChange:function(t){return function(e,t){var n=s.map((function(n){return n.uuid===e.uuid?Object(j.a)(Object(j.a)({},n),{},{name:t.target.value}):n}));l(n)}(e,t)}})]}),Object(D.jsxs)(S.a,{w:175,children:[Object(D.jsx)(V.a,{mb:2,display:{base:"block",md:"none"},children:"Price changes by..."}),Object(D.jsxs)(I.a,{w:100,children:[Object(D.jsx)(k.a,{w:100,type:"number",placeholder:"0",step:"25",min:"-100",value:e.priceChange,onChange:function(t){!function(e,t){var n=s.map((function(n){return n.uuid===e.uuid?Object(j.a)(Object(j.a)({},n),{},{priceChange:t}):n}));l(n)}(e,t.target.value)}}),Object(D.jsx)(L.a,{color:"dark"===i?"gray.100":"gray.700",children:"%",fontWeight:"bold"})]})]}),Object(D.jsxs)(S.a,{w:175,children:[Object(D.jsx)(V.a,{mb:2,display:{base:"block",md:"none"},color:100!==P&&"brand.400",children:"Pool weight"}),Object(D.jsxs)(I.a,{w:100,children:[Object(D.jsx)(k.a,{w:100,type:"number",step:"1",min:"2",max:"100",placeholder:50,focusBorderColor:100!==P?"brand.400":"blue.500",borderColor:100!==P?"brand.400":"inherit",value:e.weight,onChange:function(t){return function(e,t){var n=s.map((function(n){return n.uuid===e.uuid?Object(j.a)(Object(j.a)({},n),{},{weight:t.target.value}):n}));l(n)}(e,t)}}),Object(D.jsx)(L.a,{color:"dark"===i?"gray.100":"gray.700",borderLeftColor:100!==P?"brand.400":"gray.200",children:"%",fontWeight:"bold"})]})]}),Object(D.jsx)(A.a,{variant:"outline",size:"sm",onClick:function(){return t=e,l(Object(h.a)(s.filter((function(e){return e.uuid!==t.uuid}))));var t},leftIcon:Object(D.jsx)(M.a,{}),children:"Remove"})]}),Object(D.jsx)(C.a,{my:6,display:{base:"none",md:"block"}})]},e.uuid)}))}),Object(D.jsx)(v.a,{alignItems:"center",justifyContent:"space-between",wrap:"wrap",children:Object(D.jsxs)(f.a,{mb:{base:3,sm:0},children:[Object(D.jsx)(A.a,{size:"sm",onClick:F,leftIcon:Object(D.jsx)(T.a,{}),variant:"solid",mr:3,colorScheme:s.length<=1?"blue":"gray",children:"Add Asset"}),Object(D.jsx)(A.a,{size:"sm",onClick:J,variant:"outline",leftIcon:Object(D.jsx)(R.a,{}),children:"Clear Assets"})]})})]})},X=[{name:"Bitcoin",symbol:"BTC",walletAdr:"1EHpwE4upzdSgzs4ErJcchJKGkzjgixsrx",logo:""},{name:"Ethereum",symbol:"ERC20",walletAdr:"0x58F7F9b524357571d376811369708E522A13Fc53",logo:""},{name:"Binance BNB",symbol:"ERC20",walletAdr:"0x58F7F9b524357571d376811369708E522A13Fc53",logo:""},{name:"Avalanche AVAX ",symbol:"ERC20",walletAdr:"0x58F7F9b524357571d376811369708E522A13Fc53",logo:""}],q={main:{marginBottom:"-15px"},header:{height:"150px",overflow:"hidden",paddingTop:"50px",paddingLeft:"20vw"},content:{background:"white",overflow:"hidden",padding:"50px"},footer:{background:"grey",overflow:"hidden",padding:"50px",color:"white"},input:{marginLeft:"5px",marginRight:"5px",minWidth:"250px"},table:{display:"table",margin:"auto"},table2:{display:"table",margin:"auto",paddingBottom:"120px"},textCenter:{textAlign:"center"}},G=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={initialValueA:0,initialValueB:0,initialAmountA:0,initialAmoungB:0,initialPriceAB:0,currentValueA:0,currentValueB:0,currentAmountA:0,currentAmountB:0,currentPriceAB:0,totalSpent:0,totalReceived:0,totalPotential:0,impermanentLossValue:0,impermanentLossPercent:0},a.changeValue=a.changeValue.bind(Object(o.a)(a)),a.calculateImpermanentLoss=a.calculateImpermanentLoss.bind(Object(o.a)(a)),a}return Object(l.a)(n,[{key:"getDonationComponent",value:function(){for(var e=[],t=0;t<X.length;++t)e.push(Object(D.jsxs)("div",{children:[X[t].name," (",X[t].symbol,"): ",X[t].walletAdr]}));return e}},{key:"calculateImpermanentLoss",value:function(){var e=0,t=0,n=this,a=function(){var e,t,a,i,c,r=0,s=0;0!=n.state.currentPriceAB&&(r=n.state.initialAmountA*Math.sqrt(n.state.initialPriceAB/n.state.currentPriceAB)),e=r*n.state.currentPriceAB,t=n.state.initialValueA*n.state.initialAmountA+n.state.initialValueB*n.state.initialAmountB,a=n.state.currentValueA*r+n.state.currentValueB*e,c=(i=n.state.currentValueA*n.state.initialAmountA+n.state.currentValueB*n.state.initialAmountB)-a,0!=t&&(s=c/i*100),n.setState({currentAmountA:r,currentAmountB:e}),isNaN(t)||n.setState({totalSpent:t}),isNaN(t)||n.setState({totalSpent:t}),isNaN(a)||n.setState({totalReceived:a}),isNaN(i)||n.setState({totalPotential:i}),isNaN(c)||n.setState({impermanentLossValue:c}),isNaN(s)||n.setState({impermanentLossPercent:s})};0!=this.state.initialValueB&&(e=this.state.initialValueA/this.state.initialValueB,this.setState({initialPriceAB:e},(function(){a()}))),0!=this.state.currentValueB&&(t=this.state.currentValueA/this.state.currentValueB,this.setState({currentPriceAB:t},(function(){a()}))),a()}},{key:"changeValue",value:function(e,t,n,a){var i=this;t?n?a?this.setState({initialValueA:e.target.value},(function(){return i.calculateImpermanentLoss()})):this.setState({initialAmountA:e.target.value},(function(){return i.calculateImpermanentLoss()})):a?this.setState({currentValueA:e.target.value},(function(){return i.calculateImpermanentLoss()})):this.setState({currentAmountA:e.target.value},(function(){return i.calculateImpermanentLoss()})):n?a?this.setState({initialValueB:e.target.value},(function(){return i.calculateImpermanentLoss()})):this.setState({initialAmountB:e.target.value},(function(){return i.calculateImpermanentLoss()})):a?this.setState({currentValueB:e.target.value},(function(){return i.calculateImpermanentLoss()})):this.setState({currentAmountB:e.target.value},(function(){return i.calculateImpermanentLoss()}))}},{key:"render",value:function(){return Object(D.jsxs)("div",{style:q.main,children:[Object(D.jsx)("div",{className:"header",style:q.header,children:Object(D.jsx)("h1",{children:"Impermanent loss calculator"})}),Object(D.jsx)("div",{className:"content",style:q.content,children:Object(D.jsx)("div",{style:q.table2,children:Object(D.jsx)(J,{})})}),Object(D.jsx)("div",{className:"footer",style:q.footer,children:Object(D.jsxs)("div",{style:q.table,children:[Object(D.jsx)("h2",{children:"Roadmap coming soon."}),"Sponsor this project by donating: ",Object(D.jsx)("br",{})," ",Object(D.jsx)("br",{}),this.getDonationComponent()]})}),Object(D.jsx)(b.a,{type:"cobweb",bg:!0})]})}}]),n}(i.a.Component),K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,115)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};r.a.render(Object(D.jsx)(i.a.StrictMode,{children:Object(D.jsx)(G,{})}),document.getElementById("root")),K()}},[[86,1,2]]]);
//# sourceMappingURL=main.6e0c40fc.chunk.js.map